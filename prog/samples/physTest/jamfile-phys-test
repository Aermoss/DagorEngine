Location = prog/samples/physTest ;

TargetType  = exe ;
Target      = samples/physTest$(PhysEngine).exe ;

OutDir      = $(Root)/samples/PhysTest ;
include $(Root)/prog/_jBuild/defaults.jam ;

AddIncludes =
  $(Root)/prog/tools/sharedInclude
  $(Root)/prog/gameLibs/publicInclude
;

Sources =
  physTest.cpp
;

UseProgLibs =
  engine2/osApiWrappers
  engine2/kernel
  engine2/memory
  engine2/ioSys
  engine2/startup
  engine2/baseUtil
  engine2/math
  engine2/lib3d
  engine2/image
  engine2/shaders
  engine2/guiBase
  engine2/workCycle
  engine2/scene
  engine2/sceneRay
  engine2/coreUtil

  engine2/phys/physCommon
  engine2/perfMon

  gameLibs/heightmap

  samples/commonFramework
;

if $(Headless) = yes {
  UseProgLibs +=
    engine2/drv/hid_nulldrv
    engine2/drv/drv3d_stub
  ;
}

if $(Platform) in win32 win64 {
  UseProgLibs +=
    tools/libTools/shaderResBuilder
    tools/libTools/dagFileRW
    tools/libTools/util
  ;
  if $(Headless) != yes {
    UseProgLibs +=
      engine2/drv/hid_mouse
      engine2/drv/hid_keyboard
      engine2/drv/drv3d_DX11
    ;
  }
} else if $(Platform) in linux64 {
  if $(Headless) != yes {
    UseProgLibs += engine2/drv/drv3d_vulkan ;
  } else {
    UseProgLibs += engine2/osApiWrappers/messageBox/stub engine2/workCycle/stub ;
  }
}

include $(Root)/prog/3rdPartyLibs/phys/setup-phys.jam ;
